<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Spokane Mesh Network - Connecting Communities, One Node at a Time
    </title>
    <style>
      :root {
        /* Inland Northwest inspired color palette */
        --client-fill: hsl(200, 54%, 54%); /* #4a9fc9 */
        --client-stroke: hsl(200, 54%, 44%);
        --repeater-fill: hsl(205, 49%, 34%); /* #2d5e82 */
        --repeater-stroke: hsl(205, 49%, 24%);
        --packet-fill: hsl(11, 61%, 62%); /* #d97762 */
        --packet-stroke: hsl(0, 0%, 100%); /* #ffffff */
        --broadcast-stroke: hsl(40, 77%, 57%); /* #e6ad3f */
        --button-bg: hsl(200, 54%, 54%); /* #4a9fc9 */
        --button-hover: hsl(205, 49%, 34%); /* #2d5e82 */
        --button-clicked: hsl(85, 40%, 45%); /* #7aa145 */
        --button-text: hsl(0, 0%, 100%); /* #ffffff */
        --brand-accent: hsl(205, 49%, 34%); /* #2d5e82 */
        --bg-color: hsl(45, 29%, 95%); /* #f5f3ed */
        --text-color: hsl(0, 0%, 20%); /* #333333 */
        --section-color: hsl(0, 0%, 96%); /* #f4f4f4 */
        --section-color-alt: hsl(210, 36%, 96%); /* #f0f4f8 */

        scroll-padding-top: 40px;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu,
          Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
        background-color: #ffffff;
        color: var(--text-color);
      }

      h2 {
        font-size: 2rem;
        margin-bottom: 1rem;
        color: var(--packet-fill);
      }

      p {
        font-size: 1.1rem;
        line-height: 1.6;
      }

      p + p {
        margin-top: 1rem;
      }

      ul {
        padding-left: 1.5rem;
        margin-top: 0.5rem;
        line-height: 1.7;
        font-size: 1.05rem;
      }

      ul li {
        margin-bottom: 0.5rem;
        line-height: 1.6;
      }

      a {
        color: var(--button-hover);
        font-weight: 500;
        text-decoration: underline;
        text-underline-offset: 3px;
        transition: color 0.2s ease;
      }

      a:hover {
        color: var(--button-bg);
      }

      /* ---------- NAVBAR ---------- */
      .navbar {
        position: sticky;
        top: 0;
        width: 100%;
        background-color: #ffffff;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0.75rem 1.5rem;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        z-index: 1000;
      }

      .nav-logo {
        width: 36px;
        height: 36px;
        border-radius: 4px;
        object-fit: contain;
      }

      .brand {
        display: flex;
        align-items: center;
        gap: 0.6rem;
        font-size: 1.25rem;
        font-weight: 700;
        color: var(--text-color);
        text-decoration: none;
      }

      .brand .highlight {
        color: var(--brand-accent);
      }

      .nav-links {
        list-style: none;
        display: flex;
        gap: 1rem;
      }

      .nav-links a {
        text-decoration: none;
        color: var(--text-color);
        font-weight: 500;
        transition:
          color 0.1s,
          background-color 0.4s;
        padding: 0.25rem 0.5rem;
        border-radius: 4px;
      }

      .nav-links a:hover {
        background-color: var(--button-clicked);
        color: var(--button-text);
        padding: 0.25rem 0.5rem;
        border-radius: 4px;
      }

      @media (max-width: 768px) {
        .nav-links {
          gap: 1rem;
        }
      }

      /* ---------- Hamburger + Mobile Menu ---------- */
      .nav-toggle {
        display: none; /* hidden checkbox */
      }

      .hamburger {
        display: none;
        flex-direction: column;
        gap: 5px;
        cursor: pointer;
      }

      .hamburger span {
        width: 24px;
        height: 2px;
        background: var(--text-color);
        transition:
          transform 0.2s,
          opacity 0.2s;
      }

      @media (max-width: 768px) {
        /* show burger */
        .hamburger {
          display: flex;
        }

        /* hide menu until toggled */
        nav {
          position: absolute;
          top: 100%;
          right: 0;
          background: #ffffff;
          width: 200px;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
          transform: translateY(-20px);
          opacity: 0;
          pointer-events: none;
          transition:
            transform 0.2s ease,
            opacity 0.2s ease;
        }

        .nav-links {
          flex-direction: column;
          gap: 1rem;
          padding: 1rem;
        }

        /* When checkbox checked, reveal menu */
        #nav-toggle:checked ~ nav {
          transform: translateY(0);
          opacity: 1;
          pointer-events: auto;
        }

        /* animate burger into X */
        #nav-toggle:checked + .hamburger span:nth-child(1) {
          transform: translateY(7px) rotate(45deg);
        }
        #nav-toggle:checked + .hamburger span:nth-child(2) {
          opacity: 0;
        }
        #nav-toggle:checked + .hamburger span:nth-child(3) {
          transform: translateY(-7px) rotate(-45deg);
        }
      }

      /* ---------- HERO SECTION ---------- */
      .hero-section {
        position: relative;
        width: 100%;
        height: 30vh;
        min-height: 250px;
        background-color: var(--bg-color);
        overflow: hidden;
        user-select: none;
        -webkit-user-select: none;
        touch-action: manipulation;
      }

      .hero-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 2;
        padding: 1rem;
        pointer-events: none;
      }

      .hero-text-background {
        background-color: rgba(0, 0, 0, 0.6);
        padding: 1.5rem 2rem;
        border-radius: 5px;
        max-width: 90%;
        text-align: center;
      }

      .hero-title {
        font-size: 2.5rem;
        font-weight: 700;
        margin-bottom: 1rem;
        color: white;
      }

      .hero-description {
        font-size: 1.2rem;
        max-width: 600px;
        color: white;
      }

      .canvas-wrapper {
        position: relative;
        width: 100%;
        height: 100%;
      }

      canvas {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }

      .fallback-image {
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
        color: var(--text-color);
      }

      .controls {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 0.6rem;
        padding: 1rem;
        max-width: 1200px;
        margin: 0 auto;
        user-select: none;
      }

      .controls button {
        background-color: var(--button-bg);
        color: var(--button-text);
        border: none;
        padding: 0.5rem 1rem;
        border-radius: 4px;
        cursor: pointer;
        font-size: 0.9rem;
        font-weight: 500;
        transition: background-color 0.2s;
        display: flex;
        align-items: center;
        gap: 0.4rem;
        touch-action: manipulation;
        user-select: none;
        -webkit-user-select: none;
        -ms-user-select: none;
      }

      .controls button .icon {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
      }

      .controls button:hover {
        background-color: var(--button-hover);
      }

      .controls button.clicked {
        background-color: var(--button-clicked);
      }

      .icon {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-size: inherit;
        line-height: 1;
        height: auto;
      }

      #debug-info {
        position: fixed;
        bottom: 8px;
        right: 8px;
        background: rgba(0, 0, 0, 0.6);
        color: #00ff00;
        font-family: monospace;
        font-size: 12px;
        padding: 4px 8px;
        border-radius: 4px;
        z-index: 9999;
        pointer-events: none;
      }

      /* ---------- ABOUT SECTION ---------- */
      .info-section {
        padding: 3rem 1.5rem;
        background-color: var(--section-color);
        color: var(--text-color);
        text-align: left;
      }

      .info-subsection {
        background-color: #ffffff;
        padding: 3rem 1.5rem;
      }

      .info-container {
        max-width: 800px;
        margin: 0 auto;
      }

      .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 2rem;
        margin-top: 2.5rem;
      }

      .feature {
        text-align: center;
      }

      .feature .icon {
        font-size: 2.5rem;
        margin-bottom: 0.5rem;
      }

      .cta-button {
        text-align: center;
        margin-top: 2rem;
      }

      .cta-button a {
        display: inline-block;
        background-color: var(--button-bg);
        color: var(--button-text);
        text-decoration: none;
        font-weight: 600;
        padding: 0.75rem 1.5rem;
        border-radius: 4px;
        transition: background-color 0.2s;
      }

      .cta-button a:hover {
        background-color: var(--button-hover);
      }

      /* ---------- FAQ SECTION ---------- */
      .faq-section {
        background-color: var(--section-color-alt);
        padding: 3rem 1.5rem;
      }

      .accordion {
        max-width: 800px;
        margin: 0 auto;
      }

      .accordion-item {
        background-color: white;
        border-radius: 8px;
        margin-bottom: 1rem;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }

      .accordion-title {
        padding: 1.5rem;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-weight: 600;
      }

      .accordion-content {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease;
      }

      .accordion-content-inner {
        padding: 0 1.5rem 1.5rem;
        line-height: 1.6;
      }

      .accordion-icon {
        transition: all 0.2s ease;
        font-size: 1.5rem;
        line-height: 1;
      }

      .accordion-item.active .accordion-icon::before {
        content: "–";
      }

      .accordion-item .accordion-icon::before {
        content: "+";
      }

      .accordion-item.active .accordion-content {
        max-height: 500px;
      }

      /* ---------- GET INVOLVED SECTION ---------- */
      .get-involved-flex {
        display: flex;
        flex-direction: row;
        align-items: flex-start;
        gap: 2rem;
      }

      .get-involved-text {
        flex: 1;
      }

      .logo-container {
        flext-shrink: 0;
        text-align: right;
        align-self: flex-end;
      }

      .involved-logo {
        max-width: 200px;
        height: auto;
      }

      /* ---------- MOBILE SCALING ---------- */
      @media (max-width: 768px) {
        .hero-title {
          font-size: 1.8rem;
        }

        .hero-description {
          font-size: 1rem;
        }

        .controls {
          justify-content: center;
        }

        .controls button {
          font-size: 0.8rem;
          padding: 0.4rem 0.8rem;
        }

        .controls button .icon {
          font-size: 1.2rem;
        }

        .get-involved-flex {
          flex-direction: column;
          align-items: center;
        }

        .logo-container {
          align-self: center;
          text-align: center;
        }
      }
    </style>
  </head>
  <body>
    <header class="navbar">
      <a href="#" class="brand">
        <img
          src="img/spokanemeshnet.webp"
          alt="Spokane Mesh Network Logo"
          class="nav-logo"
        />
        Spokane<span class="highlight">Mesh Network</span>
      </a>
      <input type="checkbox" id="nav-toggle" class="nav-toggle" />
      <label
        for="nav-toggle"
        class="hamburger"
        aria-label="Toggle navigation"
        tabindex="0"
      >
        <span></span><span></span><span></span>
      </label>
      <nav>
        <ul class="nav-links">
          <li><a href="#">Home</a></li>
          <li><a href="#about">About</a></li>
          <li><a href="#faq">FAQ</a></li>
          <li><a href="#get-involved">Get Involved</a></li>
        </ul>
      </nav>
    </header>

    <section class="hero-section">
      <div class="hero-overlay">
        <div class="hero-text-background">
          <h1 class="hero-title">📵 No bars? No problem.</h1>
          <p class="hero-description">
            <strong>Text, track, & coordinate.</strong> Anywhere from the
            Palouse wheat fields to the Selkirk peaks. Join us in building a
            resilient, community-owned mesh network for the
            <em>Inland Northwest</em>.
          </p>
        </div>
      </div>
      <div class="canvas-wrapper">
        <canvas id="static-canvas"></canvas>
        <canvas id="dynamic-canvas"></canvas>
      </div>
      <noscript>
        <div class="fallback-image">
          <div>
            <h2>Mesh Network Visualization</h2>
            <p>JavaScript is required to view the mesh network animation.</p>
          </div>
        </div>
      </noscript>
    </section>

    <div class="controls" id="controls-container"></div>

    <section id="about" class="info-section">
      <div class="info-container">
        <h2>About Our Initiative</h2>
        <p>
          <strong>Spokane Mesh Network</strong> is a volunteer-driven community
          initiative building a decentralized wireless communications network
          across the Inland Northwest. Powered by the
          <a href="https://meshcore.co.uk/">MeshCore</a> platform, our network
          connects phones and affordable radios to relay text messages and GPS
          locations across great distances.
          <em>No cell service, Wi-Fi, or satellites required.</em>
        </p>

        <div class="features-grid">
          <div class="feature">
            <div class="icon">🥾</div>
            <h3>Off-Grid Communication</h3>
            <p>
              Create a decentralized network that works even when traditional
              infrastructure fails.
            </p>
          </div>
          <div class="feature">
            <div class="icon">🔒</div>
            <h3>Privacy Focused</h3>
            <p>
              End-to-end encryption keeps your communications secure and
              private.
            </p>
          </div>
          <div class="feature">
            <div class="icon">🚨</div>
            <h3>Emergency Ready</h3>
            <p>
              Be prepared for natural disasters with reliable communication
              tools.
            </p>
          </div>
        </div>
      </div>
    </section>

    <section class="info-subsection">
      <div class="info-container">
        <h2>What is MeshCore?</h2>
        <p>
          <strong>MeshCore</strong> is the open-source software that powers the
          backbone of our mesh network. It uses LoRa, a wireless technology
          designed for long-range, low-power communication over unlicensed radio
          bands.
        </p>
        <div class="cta-button">
          <a
            href="https://meshcore.co.uk"
            target="_blank"
            rel="noopener noreferrer"
            >Visit MeshCore.co.uk</a
          >
        </div>
      </div>
    </section>

    <section class="faq-section" id="faq">
      <div class="info-container">
        <h2>Frequently Asked Questions</h2>

        <div class="accordion">
          <div class="accordion-item">
            <div class="accordion-title">
              📡 &nbsp; What equipment do I need to join the network?
              <span class="accordion-icon"></span>
            </div>
            <div class="accordion-content">
              <div class="accordion-content-inner">
                <p>To join, you'll need:</p>
                <ul>
                  <li>
                    A MeshCore-compatible LoRa radio device, such as a
                    <a
                      href="https://www.seeedstudio.com/SenseCAP-Card-Tracker-T1000-E-for-Meshtastic-p-5913.html"
                      >SenseCap T1000-E</a
                    >. Check out the
                    <a href="https://meshcore.co.uk/get.html">hardware guide</a>
                    for recommended options.
                  </li>
                  <li>
                    A Chrome-based browser to load MeshCore firmware onto the
                    device using the
                    <a href="https://flasher.meshcore.co.uk/"
                      >online web flasher</a
                    >.
                  </li>
                  <li>
                    A
                    <a href="https://meshcore.co.uk/apps.html"
                      >MeshCore client app</a
                    >
                    installed on your smartphone or computer.
                  </li>
                </ul>
              </div>
            </div>
          </div>

          <div class="accordion-item">
            <div class="accordion-title">
              💸 &nbsp; How much does it cost to participate?
              <span class="accordion-icon"></span>
            </div>
            <div class="accordion-content">
              <div class="accordion-content-inner">
                <p>
                  The basic hardware costs between $30-80 depending on the
                  device you choose. Beyond that, there are
                  <em>no subscription fees</em>
                  to participate in the network, nor to be involved in the
                  community.
                </p>
              </div>
            </div>
          </div>

          <div class="accordion-item">
            <div class="accordion-title">
              🕵️‍♂️ &nbsp; Is my communication on the network private?
              <span class="accordion-icon"></span>
            </div>
            <div class="accordion-content">
              <div class="accordion-content-inner">
                <p>
                  Yes. MeshCore uses AES-128 encryption for all messages by
                  default. Even when using <em>public channels</em>, messages
                  are encrypted in transit.
                </p>

                <p>
                  For added privacy, users can create
                  <em>private channels</em> for groups, and
                  <em>direct messages</em> between individual devices that are
                  always private&mdash;only the intended recipient(s) can read
                  them.
                </p>
              </div>
            </div>
          </div>

          <div class="accordion-item">
            <div class="accordion-title">
              🪪 &nbsp; Do I need a license to operate on the network?
              <span class="accordion-icon"></span>
            </div>
            <div class="accordion-content">
              <div class="accordion-content-inner">
                <p>
                  No. Unlike ham radio, an amateur radio license is not required
                  for MeshCore. Our devices use unlicensed ISM bands (typically
                  915 MHz in North America) that are legal to use without
                  special permits.
                </p>

                <p>
                  However, we do encourage members to learn about responsible
                  radio use and to configure their devices with appropriate
                  power settings to avoid interference with other services.
                </p>
              </div>
            </div>
          </div>

          <div class="accordion-item">
            <div class="accordion-title">
              🤓 &nbsp; I'm not very technical. Can I still help?
              <span class="accordion-icon"></span>
            </div>
            <div class="accordion-content">
              <div class="accordion-content-inner">
                <p>
                  Absolutely! There are several ways to support the network even
                  if you're not into tech:
                </p>

                <ul>
                  <li>
                    <strong>Donate</strong> to help fund public infrastructure
                    like long-range repeaters and node hardware.
                  </li>
                  <li>
                    <strong>Volunteer</strong> your time, skills, or even offer
                    a location (like your rooftop or property) for a node
                    installation.
                  </li>
                  <li>
                    <strong>Spread the word.</strong> Tell your neighbors, share
                    on social media, or invite others to join the community.
                  </li>
                </ul>
              </div>
            </div>
          </div>

          <div class="accordion-item">
            <div class="accordion-title">
              🙈 &nbsp; What's the difference between MeshCore and Meshtastic?
              <span class="accordion-icon"></span>
            </div>
            <div class="accordion-content">
              <div class="accordion-content-inner">
                <p>TBD</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="info-subsection" id="get-involved">
      <div class="info-container get-involved-flex">
        <div class="get-involved-text">
          <h2>Get Involved!</h2>
          <p>
            <strong>Ready to help build the mesh?</strong> Interested in
            learning more?
          </p>
          <ul>
            <li>
              Sign up for our
              <a
                href="https://groups.google.com/g/spokanemeshnet"
                target="_blank"
                rel="noopener"
                >mailing list</a
              >
              to coordinate, discuss ideas, troubleshoot, and share updates with
              others in the local community.
            </li>
            <li>
              Join the larger community's
              <a href="https://discord.com/invite/H62Re4DCeD"
                >MeshCore Discord Server</a
              >
              to connect with other users across the globe.
            </li>
            <li>
              Have questions or want to get in touch? Email us directly at:
              <a href="mailto:info@spokanemesh.net">info@spokanemesh.net</a>
            </li>
          </ul>
        </div>

        <div class="logo-container">
          <img
            src="img/spokanemeshnet.webp"
            alt="Spokane Mesh Network Logo"
            class="involved-logo"
          />
        </div>
      </div>
    </section>

    <script src="js/meshsim.js" defer></script>
    <script>
      document.querySelectorAll(".accordion-title").forEach((title) => {
        title.addEventListener("click", () => {
          const item = title.parentElement;
          const wasOpen = item.classList.contains("active");

          // Collapse all others to enforce single open
          // document.querySelectorAll(".accordion-item").forEach((i) => i.classList.remove("active"));

          item.classList.toggle("active");

          // Only scroll if it's expanding (was previously closed)
          if (!wasOpen) {
            setTimeout(() => {
              const content = item.querySelector(".accordion-content");
              const extraOffset = 60; // space below the title
              const y =
                window.scrollY +
                content.getBoundingClientRect().bottom -
                extraOffset;

              window.scrollTo({
                top: y,
                behavior: "smooth",
              });
            }, 200); // wait for the transition to animate
          }
        });
      });
    </script>
  </body>
</html>
